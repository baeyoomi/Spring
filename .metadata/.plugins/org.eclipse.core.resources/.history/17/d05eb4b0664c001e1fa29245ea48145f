package sp1;

import java.io.PrintWriter;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PostMapping;

@Controller
public class webpage2 {
	PrintWriter pw = null;
	
	//spring1.html에 넘어온 값을 view를 통해서 핸들링함 2
	@PostMapping("/spring1ok.do")
	public String product(HttpServletRequest req, HttpServletResponse res, Model m) {
		String pdcode = req.getParameter("pdcode").intern();
		String pdname = req.getParameter("pdname").intern();
		try {
			m.addAttribute("code",pdcode);
			m.addAttribute("name",pdname);
		}
		catch(Exception e) {
			System.out.println("오류 발생");
		}
		return "/WEB-INF/jsp/spring1ok";     //보여지는 디자인 3
	}
	
	@PostMapping("/spring2ok.do")
	public String agree(HttpServletRequest req, Model m) {
		String ag = req.getParameter("mail");   //check_box 사용시 intern()은 사용하지 않음 *중요
		String ad = req.getParameter("ad").intern();   //radio 사용시 intern() 사용해야함
		
		//radio 사용
		if(ad == "N") {
			System.out.println("동의안함");
		}
		else {
			System.out.println("동의함");
		}
		
		//check_box 사용
		if(ag==null) {
			ag = "N";
		}
		System.out.println(ag);
		return null;
	}
	
	@PostMapping("/spring3ok.do")
	public String user(HttpServletRequest req, Model m) {
		
		return null;
	}
}
